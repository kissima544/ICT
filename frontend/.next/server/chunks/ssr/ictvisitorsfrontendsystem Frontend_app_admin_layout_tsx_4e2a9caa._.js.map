{"version":3,"sources":["../../../../../ictvisitorsfrontendsystem%20Frontend/app/admin/layout.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\n\r\nexport default function AdminLayout({\r\n    children,\r\n}: {\r\n    children: React.ReactNode\r\n}) {\r\n    const router = useRouter()\r\n    const [isAuthorized, setIsAuthorized] = useState<boolean | null>(null)\r\n\r\n    useEffect(() => {\r\n        if (typeof window !== \"undefined\") {\r\n            const user = JSON.parse(window.localStorage.getItem(\"user\") || \"{}\")\r\n            if (user.role === \"Admin\") {\r\n                setIsAuthorized(true)\r\n            } else {\r\n                setIsAuthorized(false)\r\n                router.push(\"/dashboard\")\r\n            }\r\n        }\r\n    }, [router])\r\n\r\n    if (isAuthorized === null) return (\r\n        <div className=\"flex min-h-screen items-center justify-center bg-background\">\r\n            <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent\" />\r\n        </div>\r\n    )\r\n\r\n    if (isAuthorized === false) return null // Redirecting\r\n\r\n    return <>{children}</>\r\n}\r\n"],"names":[],"mappings":"wDAGA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,MAEe,SAAS,EAAY,UAChC,CAAQ,CAGX,EACG,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAiB,YAcjE,CAZA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAUV,EAAG,CAAC,EAAO,EAEU,MAAM,CAAvB,GACA,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uEACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sFAIF,IAAjB,EAA+B,CAAP,IAAY,AAEjC,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAF+C,MAE/C,CAAA,UAAG,GACd"}