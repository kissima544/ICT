module.exports=[64280,a=>{"use strict";var b=a.i(12349),c=a.i(7827),d=a.i(58766),e=a.i(23491),f=a.i(90843),g=a.i(43998),h=a.i(28063),i=a.i(90347),j=a.i(9126),k=a.i(87209),l=a.i(71325),m=a.i(44302),n=a.i(29610),o="Switch",[p,q]=(0,j.createContextScope)(o),[r,s]=p(o),t=c.forwardRef((a,d)=>{let{__scopeSwitch:e,name:f,checked:g,defaultChecked:j,required:l,disabled:m,value:o="on",onCheckedChange:p,form:q,...s}=a,[t,u]=c.useState(null),v=(0,i.useComposedRefs)(d,a=>u(a)),y=c.useRef(!1),z=!t||q||!!t.closest("form"),[A=!1,B]=(0,k.useControllableState)({prop:g,defaultProp:j,onChange:p});return(0,b.jsxs)(r,{scope:e,checked:A,disabled:m,children:[(0,b.jsx)(n.Primitive.button,{type:"button",role:"switch","aria-checked":A,"aria-required":l,"data-state":x(A),"data-disabled":m?"":void 0,disabled:m,value:o,...s,ref:v,onClick:(0,h.composeEventHandlers)(a.onClick,a=>{B(a=>!a),z&&(y.current=a.isPropagationStopped(),y.current||a.stopPropagation())})}),z&&(0,b.jsx)(w,{control:t,bubbles:!y.current,name:f,value:o,checked:A,required:l,disabled:m,form:q,style:{transform:"translateX(-100%)"}})]})});t.displayName=o;var u="SwitchThumb",v=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=s(u,d);return(0,b.jsx)(n.Primitive.span,{"data-state":x(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});v.displayName=u;var w=a=>{let{control:d,checked:e,bubbles:f=!0,...g}=a,h=c.useRef(null),i=(0,l.usePrevious)(e),j=(0,m.useSize)(d);return c.useEffect(()=>{let a=h.current,b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==e&&b){let c=new Event("click",{bubbles:f});b.call(a,e),a.dispatchEvent(c)}},[i,e,f]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...g,tabIndex:-1,ref:h,style:{...a.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function x(a){return a?"checked":"unchecked"}var y=a.i(70338);function z({className:a,...c}){return(0,b.jsx)(t,{"data-slot":"switch",className:(0,y.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(v,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}var A=a.i(28776),B=a.i(25976),C=a.i(46795),D=a.i(21961),E="Tabs",[F,G]=(0,j.createContextScope)(E,[A.createRovingFocusGroupScope]),H=(0,A.createRovingFocusGroupScope)(),[I,J]=F(E),K=c.forwardRef((a,c)=>{let{__scopeTabs:d,value:e,onValueChange:f,defaultValue:g,orientation:h="horizontal",dir:i,activationMode:j="automatic",...l}=a,m=(0,C.useDirection)(i),[o,p]=(0,k.useControllableState)({prop:e,onChange:f,defaultProp:g});return(0,b.jsx)(I,{scope:d,baseId:(0,D.useId)(),value:o,onValueChange:p,orientation:h,dir:m,activationMode:j,children:(0,b.jsx)(n.Primitive.div,{dir:m,"data-orientation":h,...l,ref:c})})});K.displayName=E;var L="TabsList",M=c.forwardRef((a,c)=>{let{__scopeTabs:d,loop:e=!0,...f}=a,g=J(L,d),h=H(d);return(0,b.jsx)(A.Root,{asChild:!0,...h,orientation:g.orientation,dir:g.dir,loop:e,children:(0,b.jsx)(n.Primitive.div,{role:"tablist","aria-orientation":g.orientation,...f,ref:c})})});M.displayName=L;var N="TabsTrigger",O=c.forwardRef((a,c)=>{let{__scopeTabs:d,value:e,disabled:f=!1,...g}=a,i=J(N,d),j=H(d),k=R(i.baseId,e),l=S(i.baseId,e),m=e===i.value;return(0,b.jsx)(A.Item,{asChild:!0,...j,focusable:!f,active:m,children:(0,b.jsx)(n.Primitive.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":l,"data-state":m?"active":"inactive","data-disabled":f?"":void 0,disabled:f,id:k,...g,ref:c,onMouseDown:(0,h.composeEventHandlers)(a.onMouseDown,a=>{f||0!==a.button||!1!==a.ctrlKey?a.preventDefault():i.onValueChange(e)}),onKeyDown:(0,h.composeEventHandlers)(a.onKeyDown,a=>{[" ","Enter"].includes(a.key)&&i.onValueChange(e)}),onFocus:(0,h.composeEventHandlers)(a.onFocus,()=>{let a="manual"!==i.activationMode;m||f||!a||i.onValueChange(e)})})})});O.displayName=N;var P="TabsContent",Q=c.forwardRef((a,d)=>{let{__scopeTabs:e,value:f,forceMount:g,children:h,...i}=a,j=J(P,e),k=R(j.baseId,f),l=S(j.baseId,f),m=f===j.value,o=c.useRef(m);return c.useEffect(()=>{let a=requestAnimationFrame(()=>o.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,b.jsx)(B.Presence,{present:g||m,children:({present:c})=>(0,b.jsx)(n.Primitive.div,{"data-state":m?"active":"inactive","data-orientation":j.orientation,role:"tabpanel","aria-labelledby":k,hidden:!c,id:l,tabIndex:0,...i,ref:d,style:{...a.style,animationDuration:o.current?"0s":void 0},children:c&&h})})});function R(a,b){return`${a}-trigger-${b}`}function S(a,b){return`${a}-content-${b}`}function T({className:a,...c}){return(0,b.jsx)(K,{"data-slot":"tabs",className:(0,y.cn)("flex flex-col gap-2",a),...c})}function U({className:a,...c}){return(0,b.jsx)(M,{"data-slot":"tabs-list",className:(0,y.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",a),...c})}function V({className:a,...c}){return(0,b.jsx)(O,{"data-slot":"tabs-trigger",className:(0,y.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...c})}function W({className:a,...c}){return(0,b.jsx)(Q,{"data-slot":"tabs-content",className:(0,y.cn)("flex-1 outline-none",a),...c})}Q.displayName=P;var X=a.i(28858),Y=a.i(11327);let Z=(0,Y.default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var $=a.i(43251);let _=(0,Y.default)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var aa=a.i(51833),ab=a.i(35432),ac=a.i(91700),ad=a.i(38247),ae=a.i(71804),af=a.i(52417);let ag=process.env.NEXT_PUBLIC_API_BASE_URL||"https://localhost:7099/api";function ah(){let[a,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)([]);(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch(`${ag}/admin/settings`,{headers:{Authorization:"Bearer null"}});if(a.ok){let b=await a.json();l(b)}}catch(a){console.error("Failed to fetch settings:",a)}finally{j(!1)}})()},[]);let m=(a,b)=>k.find(b=>b.key===a)?.value||b,n=(a,b)=>{l(c=>c.find(b=>b.key===a)?c.map(c=>c.key===a?{...c,value:b}:c):[...c,{key:a,value:b}])},o=async()=>{h(!0);try{(await fetch(`${ag}/admin/settings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer null"},body:JSON.stringify(k)})).ok?af.toast.success("Settings saved successfully"):af.toast.error("Failed to save settings")}catch(a){af.toast.error("Error connecting to server")}finally{h(!1)}};return(0,b.jsx)("div",{className:"min-h-screen bg-background p-8",children:(0,b.jsxs)("div",{className:"mx-auto max-w-4xl space-y-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(ae.default,{href:"/admin",className:"text-muted-foreground hover:text-primary",children:"Admin"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"/"}),(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"System Settings"})]}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Global configuration for the Visitor Management System."})]}),(0,b.jsxs)(g.Button,{onClick:o,disabled:a,children:[a?(0,b.jsx)($.RefreshCw,{className:"mr-2 h-4 w-4 animate-spin"}):(0,b.jsx)(Z,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]}),(0,b.jsxs)(T,{defaultValue:"general",className:"w-full",children:[(0,b.jsxs)(U,{className:"grid w-full grid-cols-4 bg-muted/50 p-1",children:[(0,b.jsxs)(V,{value:"general",className:"gap-2",children:[(0,b.jsx)(X.Settings,{className:"h-4 w-4"})," General"]}),(0,b.jsxs)(V,{value:"departments",className:"gap-2",children:[(0,b.jsx)(_,{className:"h-4 w-4"})," Departments"]}),(0,b.jsxs)(V,{value:"programs",className:"gap-2",children:[(0,b.jsx)(_,{className:"h-4 w-4"})," Programs"]}),(0,b.jsxs)(V,{value:"security",className:"gap-2",children:[(0,b.jsx)(ab.Shield,{className:"h-4 w-4"})," Security"]}),(0,b.jsxs)(V,{value:"notifications",className:"gap-2",children:[(0,b.jsx)(aa.Bell,{className:"h-4 w-4"})," Alerts"]}),(0,b.jsxs)(V,{value:"data",className:"gap-2",children:[(0,b.jsx)(_,{className:"h-4 w-4"})," Data"]})]}),(0,b.jsx)(W,{value:"general",className:"mt-6 space-y-6",children:i?(0,b.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,b.jsx)(ad.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(d.Card,{className:"border-border",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"System Information"}),(0,b.jsx)(d.CardDescription,{children:"Basic system identifiers and localization."})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(e.Label,{htmlFor:"site-name",children:"Organization Name"}),(0,b.jsx)(f.Input,{id:"site-name",value:m("org_name","ICT Visitor Management"),onChange:a=>n("org_name",a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(e.Label,{htmlFor:"timezone",children:"System Timezone"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(ac.Clock,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)(f.Input,{id:"timezone",value:m("timezone","(GMT+08:00) Manila"),onChange:a=>n("timezone",a.target.value)})]})]})]})]})})}),(0,b.jsx)(W,{value:"security",className:"mt-6 space-y-6",children:(0,b.jsxs)(d.Card,{className:"border-border",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Authentication Policy"}),(0,b.jsx)(d.CardDescription,{children:"Manage how users access the administrative area."})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(e.Label,{children:"Require MFA for Admins"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Enforce 2-step verification for all administrative accounts."})]}),(0,b.jsx)(z,{defaultChecked:!0})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(e.Label,{children:"Auto-logout Inactive Sessions"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Log users out after 15 minutes of inactivity."})]}),(0,b.jsx)(z,{defaultChecked:!0})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(e.Label,{htmlFor:"ip-whitelist",children:"IP Whitelist (Optional)"}),(0,b.jsx)(f.Input,{id:"ip-whitelist",placeholder:"e.g. 192.168.1.0/24"})]})]})]})}),(0,b.jsx)(W,{value:"notifications",className:"mt-6",children:(0,b.jsxs)(d.Card,{className:"border-border",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"System Notifications"}),(0,b.jsx)(d.CardDescription,{children:"Configure when and how to receive system alerts."})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(e.Label,{children:"Daily Email Summary"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Receive a summary of all visitors at the end of the day."})]}),(0,b.jsx)(z,{})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(e.Label,{children:"High Occupancy Alert"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Notify when visitor count exceeds 50."})]}),(0,b.jsx)(z,{defaultChecked:!0})]})]})]})}),(0,b.jsx)(W,{value:"data",className:"mt-6",children:(0,b.jsxs)(d.Card,{className:"border-border",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Data Management"}),(0,b.jsx)(d.CardDescription,{children:"Retention and archival settings."})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(e.Label,{htmlFor:"retention",children:"Data Retention Period"}),(0,b.jsx)(f.Input,{id:"retention",defaultValue:"2 Years"})]}),(0,b.jsxs)("div",{className:"pt-4 border-t border-border",children:[(0,b.jsx)(g.Button,{variant:"destructive",className:"w-full",children:"Purge All Visitor History"}),(0,b.jsx)("p",{className:"mt-2 text-center text-xs text-muted-foreground",children:"Warning: This action is irreversible."})]})]})]})})]})]})})}a.s(["default",()=>ah],64280)}];

//# sourceMappingURL=ictvisitorsfrontendsystem%20Frontend_app_admin_settings_page_tsx_a994428c._.js.map